
  <div id="summary" style="margin-top: 20px">
    <div class="row">
      <div class="col-md-12"><h1 class="text-center">{{title}}</h1></div>
    </div>


    <div class="card">
      <div class="card-header">
        Meta Information
      </div> 
      <div class="row" style="padding: 15px">
        <div class="col-lg-6 col-md-12"><strong>Generated:</strong> {{timestamp}}</div>
        <div class="col-lg-6 col-md-6"><strong>Backend version:</strong> {{metainformation.be_version}}</div>
        <div class="col-lg-6 col-md-6"><strong>Profile:</strong> {{metainformation.profile}}</div>
      </div>
    </div>

    <p style="padding: 10px"></p>

    <div class="card"> 
      <div class="card-header">
        Statistics
      </div> 
      <div class="row">
          <div class="chart col-lg-6 col-md-6" id="piechart_features"></div>
          <div class="chart col-lg-6 col-md-6" id="piechart_scenarios"></div>
        </div>
    </div>
  </div>
  <div id="selected-scenario" style="margin-top: 20px"> 

  </div>

  <div id="all-features" style="margin-top: 20px">
        {{#each features}}
          {{#elements}}
          <div id="{{this.selectorId}}">
            <div class="card-header">
              <strong>Scenario</strong>: <span id="scenario-title-{{this.selectorId}}">{{this.name}}</span>
            </div>
            {{#if this.tags}}
                <div style="padding: 8px">
                      Tags
                      {{#each this.tags}}
                          <span class="badge badge-light">{{writeTag name}}</span>
                      {{/each}}
                </div>
            {{/if}}
            <div style="padding: 15px 5px">
                <table width="100%">
                  <tr>
                    <th style="width: 60px"></th>
                    <th></th>
                    <th style="width: 150px;"></th>
                  </tr>
                  {{#steps}}
                    <tr>
                      <td>
                          {{#equals result.status "passed"}}
                            <span class="badge badge-success">{{result.status}}</span>
                          {{/equals}}
                          {{#equals result.status "failed"}}
                            <span class="badge badge-danger">{{result.status}}</span>
                          {{/equals}}
                          {{#equals result.status "skipped"}}
                            <span class="badge badge-warning">{{result.status}}</span>
                          {{/equals}}
                      </td>
                      <td> {{keyword}} {{name}}
                          <table class="datatable">
                          <!-- {{#rows}} -->
                            <tr>
                            <!-- {{#cells}} -->
                              <td>{{.}}</td>
                              <!-- {{/cells}} -->
                            </tr>
                            <!-- {{/rows}} -->
                          </table>
                      </td>
                      <td style="text-align: right"> <span class="text-muted"> {{result.durationFormatted}} </span></td>
                    </tr>
                    {{#if result.error_message}}
                      <tr>
                        <td colspan="3">
                          <br />
                          <div class="card">
                              <div class="card-body">
                                <pre style="font-size:12px">{{stripStacktrace result.error_message}}</pre>
                              </div>
                            </div>
                        </td>
                      </tr> 
                    {{/if}}
                  {{/steps}}
                </table>

          {{#if this.plainTextEmbeddings}}
                <div style="padding-top: 20px" id="info">
                  <nav>
                    <div class="nav nav-tabs" id="nav-tab" role="tablist">
                      <a class="nav-item nav-link active" id="nav-body-tab" data-toggle="tab" href="#nav-body" role="tab" aria-controls="nav-body" aria-selected="true">Body</a>
                      <a class="nav-item nav-link" id="nav-headers-tab" data-toggle="tab" href="#nav-headers" role="tab" 
                          aria-controls="nav-headers" aria-selected="false">
                          Headers 
                          <span class="tabCount">
                            ({{this.plainTextEmbeddings.count-request-header}}/{{this.plainTextEmbeddings.count-response-header}})
                          <span>
                      </a>
                      <a class="nav-item nav-link" id="nav-hook-variables-tab" data-toggle="tab" href="#nav-hook-variables" role="tab" 
                          aria-controls="nav-hook-variables" aria-selected="false">
                          Hook vars 
                          <span class="tabCount">
                            ({{this.plainTextEmbeddings.count-used-hooks-variables}}/{{this.plainTextEmbeddings.count-hook-variables}})
                          </span>
                      </a>
                      <a class="nav-item nav-link" id="nav-common-variables-tab" data-toggle="tab" href="#nav-common-varibles" role="tab" 
                          aria-controls="nav-common-variables" aria-selected="false">
                          Common vars
                          <span class="tabCount">
                            ({{this.plainTextEmbeddings.count-used-common-variables}}/{{this.plainTextEmbeddings.count-common-variables}})
                          </span>
                      </a>
                      <a class="nav-item nav-link" id="nav-profile-variables-tab" data-toggle="tab" href="#nav-profile-variables" role="tab" 
                          aria-controls="nav-profile-variables" aria-selected="false">
                          Profile vars
                          <span class="tabCount">
                            ({{this.plainTextEmbeddings.count-used-profile-variables}}/{{this.plainTextEmbeddings.count-profile-variables}})
                          </span>
                      </a>
                      <a class="nav-item nav-link" id="nav-global-variables-tab" data-toggle="tab" href="#nav-global-variables" role="tab" 
                        aria-controls="nav-global-variables" aria-selected="false">
                        Global vars
                          <span class="tabCount">
                            ({{this.plainTextEmbeddings.count-used-global-variables}}/{{this.plainTextEmbeddings.count-global-variables}})
                          </span>
                      </a>
                      <a class="nav-item nav-link" id="nav-local-variables-tab" data-toggle="tab" href="#nav-local-variables" role="tab" 
                        aria-controls="nav-local-variables" aria-selected="false">
                        Local vars
                          <span class="tabCount">
                            ({{this.plainTextEmbeddings.count-used-local-variables}}/{{this.plainTextEmbeddings.count-local-variables}})
                          </span>
                      </a>
                      <a class="nav-item nav-link" id="nav-logs-tab" data-toggle="tab" href="#nav-logs" role="tab" aria-controls="nav-logs" 
                        aria-selected="false">Logs
                     </a>
                    </div>
                  </nav>
                  <div class="tab-content" id="nav-tabContent">
                    <div class="tab-pane fade show active" id="nav-body" role="tabpanel" aria-labelledby="nav-body">
                      <div style="padding: 15px">
                        {{encodeHTML this.plainTextEmbeddings.body}}
                      </div> 
                    </div>
                    <div class="tab-pane fade show" id="nav-headers" role="tabpanel" aria-labelledby="nav-headers-tab">
                      <div style="padding: 15px">
                        {{encodeHTML this.plainTextEmbeddings.headers}}
                      </div>  
                    </div>
                    <div class="tab-pane fade" id="nav-hook-variables" role="tabpanel" aria-labelledby="nav-hook-variables">
                      <div style="padding: 15px">
                        {{encodeHTML this.plainTextEmbeddings.hooks}}
                      </div> 
                    </div>
                    <div class="tab-pane fade" id="nav-common-varibles" role="tabpanel" aria-labelledby="nav-common-varibles">
                      <div style="padding: 15px">
                        {{encodeHTML this.plainTextEmbeddings.common}}
                      </div> 
                    </div>
                    <div class="tab-pane fade" id="nav-profile-variables" role="tabpanel" aria-labelledby="nav-profile-variables">
                      <div style="padding: 15px">
                        {{encodeHTML this.plainTextEmbeddings.profile}}
                      </div> 
                    </div>
                    <div class="tab-pane fade" id="nav-global-variables" role="tabpanel" aria-labelledby="nav-global-variables">
                      <div style="padding: 15px">
                        {{encodeHTML this.plainTextEmbeddings.global}}
                      </div> 
                    </div>
                    <div class="tab-pane fade" id="nav-local-variables" role="tabpanel" aria-labelledby="nav-local-variables">
                      <div style="padding: 15px">
                        {{encodeHTML this.plainTextEmbeddings.local}}
                      </div> 
                    </div>
                    <div class="tab-pane fade" id="nav-logs" role="tabpanel" aria-labelledby="nav-logs">
                      <div style="padding: 15px">
                       <pre>{{encodeHTML this.plainTextEmbeddings.logs}}</pre>
                      </div> 
                    </div>
                  </div>
                </div>
           {{/if}}
          </div>
          </div>
          <br />
        {{/elements}}
        {{/each}}
  </div>

